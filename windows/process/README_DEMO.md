# Windows进程内存指标监控程序

这个演示程序用于收集并友好地打印出当前进程的内存指标，展示Windows任务管理器中各种内存相关指标的含义和获取方法。

## 内存指标说明

- **虚拟地址已经使用的大小**
  - 进程申请的虚拟地址空间大小 = Reserve（保留但未提交） + Commited
  
- **已提交 (Committed)**
  - 进程地址空间的一种状态，表示系统承诺这部分地址空间可以映射到物理内存上
  - 注意⚠️：在Windows任务管理器上的"已提交"不包含共享部分，即值为private bytes的值
  
- **私有提交 (Private Bytes)**
  - 私有的已提交部分
  - ⚠️注意：该指标包含未被分配内存的部分，因此不是私有工作集+私有交换到磁盘部分之和
  
- **总工作集 (Total Working Set)**
  - 专用物理内存 + 共享的物理内存
  - 表示进程当前实际使用的物理内存总量
  
- **私有工作集 (Private Working Set)**
  - 私有的物理内存
  - 注意⚠️：在任务管理器默认看到的是这个指标
  
- **可共享工作集**
  - 可以被其他进程共享的工作集部分
  
- **已共享工作集**
  - 实际已经被其他进程共享的工作集部分

## 编译和运行

### 前提条件

- Windows操作系统
- CMake 3.10或更高版本
- Visual Studio或其他支持C++17的编译器

### 构建步骤

```bash
# 创建构建目录
mkdir build && cd build

# 生成构建文件
cmake ..

# 编译项目
cmake --build .
```

### 运行程序

```bash
# 在build目录下运行
Debug\process_memory_monitor.exe
```

## 程序功能

程序会分配一些内存，然后显示当前进程的各种内存指标，包括虚拟内存使用量、已提交内存、工作集等信息。这些信息与Windows任务管理器中显示的内存指标相对应。

按Enter键退出程序。